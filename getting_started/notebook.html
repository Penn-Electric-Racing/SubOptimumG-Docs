
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>SuboptimumG Tutorial &#8212; SubOptimumG</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=a58bc63e"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'getting_started/notebook';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Contributing" href="contributing.html" />
    <link rel="prev" title="Tutorial" href="tutorial.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">SubOptimumG</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../references/index.html">
    References
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../vehicle/index.html">
    Vehicle Model
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../compsim/index.html">
    Competition Model
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../sweep/index.html">
    Parameter Sweeps
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../plotting/index.html">
    Plotting & Visualization
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../misc/index.html">
    Misc.
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../references/index.html">
    References
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../vehicle/index.html">
    Vehicle Model
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../compsim/index.html">
    Competition Model
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../sweep/index.html">
    Parameter Sweeps
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../plotting/index.html">
    Plotting & Visualization
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../misc/index.html">
    Misc.
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="tutorial.html">Tutorial</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">SuboptimumG Tutorial</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Getting Started</a></li>
    
    
    <li class="breadcrumb-item"><a href="tutorial.html" class="nav-link">Tutorial</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">SuboptimumG Tutorial</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="SuboptimumG-Tutorial">
<h1>SuboptimumG Tutorial<a class="headerlink" href="#SuboptimumG-Tutorial" title="Link to this heading">#</a></h1>
<p>This notebook will showcase how to use the key features of SuboptimumG. Note that if you ever modify the source code of the package. You have to <strong>restart the kernel</strong> so that your changes are detected! (Hit the “Restart” button on VSCode).</p>
<section id="Simulating-a-Single-Competition">
<h2>Simulating a Single Competition<a class="headerlink" href="#Simulating-a-Single-Competition" title="Link to this heading">#</a></h2>
<p>We start by simulating the results of a single competition with the default car (REV X). We load in competition-wide parameters (tracks, competitor statistics, simulation hyperparameters, etc.) from competition.yaml. We load in car-specific parameters from car.yaml. Check these yaml files to see what SuboptimumG currently takes into account and to edit the defaults.</p>
<p>Observe that there are soft plausibility warnings when a parameter is outside of an expected range.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import suboptimumg
from suboptimumg.compsim import Competition
import yaml

with open(&quot;../parameters/car.yaml&quot;, &quot;r&quot;) as file:
    car_config = yaml.safe_load(file)
with open(&quot;../parameters/awd_car.yaml&quot;, &quot;r&quot;) as file:
    awd_config = yaml.safe_load(file)

# Create sample competition
with open(&quot;../parameters/competition.yaml&quot;, &quot;r&quot;) as file:
    comp_config = yaml.safe_load(file)

michigan2023_revX = Competition.from_config(
    comp_config=comp_config, car_config=car_config
)
michigan2023_awd = Competition.from_config(
    comp_config=comp_config, car_config=awd_config
)

# We can also optionally load parameters from published Google Sheets
michigan2023_revX_alt = suboptimumg.sheet_to_yaml.load_competition_from_gdrive(
    car_config_url=&quot;https://docs.google.com/spreadsheets/d/e/2PACX-1vQRPeSToFhhcMYo4J12FvPuIoCv0xAVCvcOlb-SlRxRleQQJNwq7Jiw1H0Hwr6oYOFBcCD_422CosnJ/pub?output=csv&quot;,
    comp_config_url=&quot;https://docs.google.com/spreadsheets/d/e/2PACX-1vSPaKIHa64Buiqw_2yk4P3iP3PlsNjuE-GjYSHQDenn6dFYG_EelNSg7oqwH5mEvXzSNfB7j1p42H12/pub?output=csv&quot;,
)
</pre></div>
</div>
</div>
<p>We run the competition by calling .run() on the competition object. Then, we can print out our point totals.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from suboptimumg.compsim import pretty_print_results

# Run sample competition
comp_results = michigan2023_revX.run(extract_internal_data=True)
awd_results = michigan2023_awd.run(extract_internal_data=True)

pretty_print_results(comp_results)
pretty_print_results(awd_results)
</pre></div>
</div>
</div>
<p>We have tools to graph more detailed information about the behavior of the car across different events. Here’s an example for the Endurance event. We plot what is simulated for a single “seed”, which is a radii minima on the Endurance track. Seeds are used as starting points in our simulation.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>endu_res = comp_results.endurance
endu_awd = awd_results.endurance
autoX_res = comp_results.autoX
autoX_awd = awd_results.autoX
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from suboptimumg.plotting.internal_data_plots import plot_per_seed, Axis

# endu_res = comp_results.endurance

plot_per_seed(
    results=endu_res.lapsim_results,
    x_axis=Axis.DISTANCE,
    include_indices=range(4),
    include_power=True,
)
</pre></div>
</div>
</div>
<p>We can also display detailed simulation results for an event, plotting velocity, acceleration, and power at every step across a lap.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from suboptimumg.plotting.internal_data_plots import plot_event_traces, Metric

plot_event_traces(
    results=endu_res.lapsim_results,
    x_axis=Axis.DISTANCE,
    metrics=[Metric.VELOCITY, Metric.ACCEL, Metric.POWER],
)
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from suboptimumg.plotting.internal_data_plots import plot_event_traces, Metric

plot_event_traces(
    # results=[endu_res.lapsim_results, endu_awd.lapsim_results],
    results=[autoX_res.lapsim_results, autoX_awd.lapsim_results],
    x_axis=Axis.DISTANCE,
    metrics=[Metric.VELOCITY, Metric.ACCEL, Metric.POWER],
)
</pre></div>
</div>
</div>
<p>For a more compact but comprehensive view, we can plot these traces across all events in a competition.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from suboptimumg.plotting.internal_data_plots import plot_competition_traces

plot_competition_traces(
    # competitions=comp_results,
    competitions=[comp_results, awd_results],
    x_axis=Axis.DISTANCE,
    labels=[&quot;RWD&quot;, &quot;AWD&quot;],
)
</pre></div>
</div>
</div>
<p>If needed, it is also fairly simple to do custom analysis on the data. We store our data in numpy datatypes, which should be compatible with most external libraries.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import numpy as np
from suboptimumg.plotting.generic_plot import plot2D

plot2D(
    x_list=np.array(endu_res.lapsim_results.lap_t),
    y_list=np.array(endu_res.lapsim_results.lap_powers) / 1000,
    title=&quot;Power Usage over a Single Endurance Lap&quot;,
    x_axis=&quot;Time since Lap Start (s)&quot;,
    y_axis=&quot;Power (kW)&quot;,
    theme=&quot;powertrain&quot;,
)

print(&quot;Power Statistics:&quot;)
print(f&quot;Max Power: {np.max(endu_res.lapsim_results.lap_powers) / 1000} kW&quot;)
print(f&quot;Min Power: {np.min(endu_res.lapsim_results.lap_powers) / 1000} kW&quot;)
print(f&quot;Avg Power: {np.mean(endu_res.lapsim_results.lap_powers) / 1000} kW&quot;)
</pre></div>
</div>
</div>
<p>We can also use custom functions to visualize the tracks that were used as part of the simulation. map_color and map_3d are function built on top of track_vis that map a second variable onto the track, to show the simulated instantaneous velocity and power consumption of the car at every point.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>fig, ax = michigan2023_revX.endurance.plot_arcs()
fig
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>fig = michigan2023_revX.endurance.plot_with_overlay(
    variable=endu_res.lapsim_results.lap_vels,
    label=&quot;Speed (m/s)&quot;,
    theme=&quot;thermal&quot;,
)
fig.show()
fig.write_html(&quot;endurance_speed_overlay.html&quot;)
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>fig = michigan2023_revX.endurance.plot_3d(
    variable=endu_res.lapsim_results.lap_vels,
    title=&quot;Speed over Endurance Lap&quot;,
    z_label=&quot;Speed (m/s)&quot;,
    theme=&quot;thermal&quot;,
)
fig.show()
</pre></div>
</div>
</div>
</section>
<section id="Sweeps">
<h2>Sweeps<a class="headerlink" href="#Sweeps" title="Link to this heading">#</a></h2>
<p>Now we move on to the Sweep functionality, an abstraction built on top of single competition simulations, that allow us to vary one or two parameters, and observe how that affects competition results.</p>
<p>We first define a sweep variable by creating a Python dictionary with four items. “variable” is the name of the variable. To get the correct name, take reference from the names in Car.yaml, and nest parameters using dots. For example, the MOC efficiency should be referred to as “pwrtn.motor.moc_efficiency”, and the mass of the car is just “mass”.</p>
<p>Observe that plausibility checks are done on the car configurations at both bounds of the sweep. In a 2-variable sweep, four sets of bounds are checked for plausibility.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from suboptimumg.sweep import *

sweep_var_1 = SweepParamConfig(
    name=&quot;mass&quot;,
    min=200,
    max=300,
    steps=50,
)
mass_sweep = create_sweeper(
    comp_config=comp_config, default_car_config=car_config, var_1=sweep_var_1
)
mass_results = mass_sweep.sweep()
</pre></div>
</div>
</div>
<p>Calling .sweep() on the Sweeper class object returns a SweepResults object. We can produce graphs with this SweepResults object. By default, the y-variable in the graph is the total number of points earned in a competition. Optionally, we can also choose to graph other y-variables such as event times and event points by passing arguments like y_var=”accel_pts” (indicating Accel event points) or y_var=”endurance_t” (indicating time taken to complete Endurance event).</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>fig = mass_results.plot(
    x_label=&quot;Mass (kg)&quot;,
    y_label=&quot;Total Points&quot;,
    title=&quot;Mass Sweep - Total Points&quot;,
)
fig.write_html(&quot;mass_sweep_total_points.html&quot;)
fig.show()
</pre></div>
</div>
</div>
<p>We can also compute interpolated points/times (y_var) and first derivatives for any given x-value within range of the sweep.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>print(f&quot;Total points @ mass=257kg: {mass_results.y_at_x(x=257)}&quot;)
print(
    f&quot;Change in points for every 1kg increase in mass @ mass=257kg: {mass_results.dydx_at_x(x=257)}&quot;
)
</pre></div>
</div>
</div>
<p>The Sweeper class object also supports 2-parameter sweeps.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from suboptimumg.sweep import *

sweep_var_1 = SweepParamConfig(
    name=&quot;aero.cl&quot;,
    min=2.8,
    max=3.8,
    steps=15,
)

sweep_var_2 = SweepParamConfig(
    name=&quot;aero.cd&quot;,
    min=1.0,
    max=2.0,
    steps=15,
)

aero_sweep = create_sweeper(
    comp_config=comp_config,
    default_car_config=car_config,
    var_1=sweep_var_1,
    var_2=sweep_var_2,
)
aero_results = aero_sweep.sweep()
</pre></div>
</div>
</div>
<p>For 2-parameter sweep results, we can likewise compute interpolated points/times (z_var) and partial derivatives at any given pair of parameters within the sweep range.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># x refers to var_1 (aero.cl in this case) and y refers to var_2 (aero.cd in this case)
print(f&quot;Total points @ cl=3.55, cd=1.65: {aero_results.z_at_xy(x=3.55, y=1.65)}&quot;)
print(
    f&quot;Additional point gain for every 1.0 increase in cl @ cl=3.55, cd=1.65: {aero_results.dzdx_at_xy(x=3.55, y=1.65)}&quot;
)
print(
    f&quot;Additional point gain for every 1.0 increase in cd @ cl=3.55, cd=1.65: {aero_results.dzdy_at_xy(x=3.55, y=1.65)}&quot;
)
</pre></div>
</div>
</div>
<p>For 2-parameter sweep results, we have a choice between two types of graphs to represent the data. Call either .plot_contour() or .plot_surface(). Again, the target variable is by default total points, but can be controlled by passing an argument like z_var=”endurance_pts”.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>fig = aero_results.plot_contour(
    x_label=&quot;CL&quot;, y_label=&quot;CD&quot;, z_label=&quot;Total Points&quot;, title=&quot;CL vs CD Sweep&quot;
)
fig.write_html(&quot;aero_sweep_contour.html&quot;)
fig.show()
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from suboptimumg.plotting import PlotType

aero_results.grid_plot(plot_type=PlotType.CONTOUR)
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from suboptimumg.plotting import SceneConfig

fig = aero_results.plot_surface(
    x_label=&quot;CL&quot;,
    y_label=&quot;CD&quot;,
    z_label=&quot;Total Points&quot;,
    title=&quot;CL vs CD Sweep&quot;,
    scene_config=SceneConfig(default_view_angle=120),
)
fig.write_html(&quot;aero_sweep_surface.html&quot;)
fig.show()
</pre></div>
</div>
</div>
<p>We can do a full vehicle parameter sweep by using the ArraySweeper class</p>
<p>This takes in the following parameters:</p>
<ul class="simple">
<li><p>comp_config: competition-wide parameters</p></li>
<li><p>default_car_config: default car parameters</p></li>
<li><p>var_list: list of variables to sweep e.g. [“mass”, “pwrtn.motor.moc_efficiency”]</p></li>
<li><p>var_percent_step_list: list of percent steps to sweep default is: [-0.1, -0.08, -0.06, -0.04, -0.02, 0, 0.02, 0.04, 0.06, 0.08, 0.1]</p></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from suboptimumg.sweep import ArraySweeper

arr_sweep_params = [
    &quot;mass&quot;,
    &quot;w_distr_b&quot;,
    &quot;cg_h&quot;,
    &quot;wb&quot;,
    &quot;front_track&quot;,
    &quot;rear_track&quot;,
    &quot;aero.cl&quot;,
    &quot;aero.cd&quot;,
    &quot;aero.front_area&quot;,
    &quot;aero.cop&quot;,
    &quot;pwrtn.ratio&quot;,
]
arr_sweep = ArraySweeper(
    comp_config=comp_config, default_car_config=car_config, var_list=arr_sweep_params
)
arr_sweep_results = arr_sweep.sweep(verbose=True)
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>fig = arr_sweep_results.plot(
    y_label=&quot;Total Points&quot;,
    title=&quot;Array Sweep - Total Points&quot;,
)
fig.write_html(&quot;array_sweep_total_points.html&quot;)
fig.show()
</pre></div>
</div>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="tutorial.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Tutorial</p>
      </div>
    </a>
    <a class="right-next"
       href="contributing.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Contributing</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Simulating-a-Single-Competition">Simulating a Single Competition</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Sweeps">Sweeps</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/getting_started/notebook.nblink.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025, Penn Electric Racing.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>